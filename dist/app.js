!function(e){function t(t){for(var o,n,i=t[0],l=t[1],c=t[2],h=0,u=[];h<i.length;h++)n=i[h],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&u.push(r[n][0]),r[n]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);for(d&&d(t);u.length;)u.shift()();return a.push.apply(a,c||[]),s()}function s(){for(var e,t=0;t<a.length;t++){for(var s=a[t],o=!0,i=1;i<s.length;i++){var l=s[i];0!==r[l]&&(o=!1)}o&&(a.splice(t--,1),e=n(n.s=s[0]))}return e}var o={},r={1:0},a=[];function n(t){if(o[t])return o[t].exports;var s=o[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=o,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(s,o,function(t){return e[t]}.bind(null,o));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var d=l;a.push([2,0,2]),s()}({2:function(e,t,s){e.exports=s(5)},5:function(e,t,s){"use strict";s.r(t);s(3);var o=s(0);var r=[function(e,t,s){return[".green",t,"{color:#fff;background-color:green}.green",t,",.white",t,"{padding:6px 5px;text-align:left;width:300px;border-radius:5px;border-color:#000;border-style:solid;margin-top:1px}.white",t,"{color:#000;background-color:#e4f2f8}"].join("")}];function a(e,t,s,o){const{d:r,k:a,b:n,h:i,i:l,t:c,f:d}=e,{_m0:h}=o;return d([t.rows.length?l(t.rows,(function(e){return i("div",{className:e.class,attrs:{"data-index":e.index},key:a(0,e.index),on:{click:h||(o._m0=n(t.handleOrgSelect))}},[r(e.domain)])})):[],t.rows.length?null:c("You seem to be not connected to any of the SalesForce Orgs")])}var n=Object(o.registerTemplate)(a);a.stylesheets=[],r&&a.stylesheets.push.apply(a.stylesheets,r),a.stylesheetTokens={hostAttribute:"my-orgList-_orgList-host",shadowAttribute:"my-orgList-_orgList"};let i={sharedValue:0,sobjectList:[],idToOrgObj:{},selectIndex:0};const l=(e,t)=>{console.log("inside set"),i[e]=t},c=e=>(console.log("inside get"),i[e]),d="undefined"==typeof chrome?browser:chrome,h=async(e,t,s)=>{let o="https://"+e+"/services/data/v48.0/"+t,r={async:!0,crossDomain:!0,method:"GET",headers:{authorization:"Bearer "+s}};return(await fetch(o,r)).json()},u=e=>{let t={};for(let s in e)if("object"==typeof e[s]&&null!==e[s]){let o=u(e[s]);for(let e in o)t[s.toLowerCase()+"."+e.toLowerCase()]=o[e]}else t[s.toLowerCase()]=e[s];return t},p=e=>{return e=e.replace(/\s\s+/g," "),h(t?c("idToOrgObj")[t].domain:c("idToOrgObj")[c("selectIndex")].domain,"query/?q="+e,(e=>e?c("idToOrgObj")[e].value:c("idToOrgObj")[c("selectIndex")].value)());var t};class y extends o.LightningElement{constructor(...e){super(...e),this.rows=[],this.selectIndex=0}connectedCallback(){let e=[],t={},s=0;var o;o=o=>{o.forEach(o=>{new RegExp(".*salesforce.com").test(o.domain)&&(e.push({index:s,value:o.value,domain:o.domain,class:"white"}),t[s]={value:o.value,domain:o.domain},s++)}),l("idToOrgObj",t),this.rows=[...e],this.rows.length?(this.rows[0].class="green",l("selectIndex",0)):l("selectIndex",-1),this.communicateOrgId(),console.log("this rows ",JSON.stringify(this.rows)),console.log("idToOrgObj",t)},d.cookies.getAll({name:"sid"},o)}communicateOrgId(){const e=new CustomEvent("orgidset");this.dispatchEvent(e)}handleOrgSelect(e){let t=e.target.dataset.index;this.selectIndex=t,this.rows.forEach(e=>{e.class="white"}),this.rows[t].class="green",l("selectIndex",this.selectIndex),this.communicateOrgId()}setOrg(e){let t=c("idToOrgObj")[e].value,s=c("idToOrgObj")[e].domain;h(s,"sobjects/",t).then(e=>{console.log("response =>",e.sobjects[0].name),l("sobjectList",e.sobjects)})}}Object(o.registerDecorators)(y,{track:{rows:1},fields:["selectIndex"]});var b=Object(o.registerComponent)(y,{tmpl:n});var m=[function(e,t,s){return[".tab",t,"{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab",t," button",t,"{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab",t," button:hover",t,"{background-color:#ddd}.tab",t," button.active",t,"{background-color:#ccc}.tabcontent",t,"{padding:6px 12px;border:1px solid #ccc;border-top:none}"].join("")}],g=s(1),f=s.n(g);function k(e,t,s,o){const{}=e;return[]}var v=Object(o.registerTemplate)(k);function w(e,t,s,o){const{t:r,d:a,h:n,k:i,i:l}=e;return[r("size newRecordList"),a(t.newRecordList.length),r(" finalData = "),a(t.finalData.length),t.finalData.length?n("table",{classMap:{"slds-table":!0,"slds-table_cell-buffer":!0,"slds-table_bordered":!0},key:9},[n("thead",{key:4},[n("tr",{classMap:{"slds-line-height_reset":!0},key:i(3,t.col)},l(t.columns2,(function(e){return n("th",{classMap:{},attrs:{scope:"col"},key:i(2,e)},[n("div",{classMap:{"slds-truncate":!0},attrs:{title:e},key:i(1,e)},[n("b",{key:0},[a(e)])])])})))]),n("tbody",{key:8},l(t.finalData,(function(e){return n("tr",{classMap:{"slds-hint-parent":!0},key:i(7,e._id)},l(e.array,(function(e){return n("td",{key:i(6,e.id)},[n("div",{classMap:{"slds-truncate":!0},attrs:{title:e.id},key:5},[a(e.value)])])})))})))]):null]}k.stylesheets=[],f.a&&k.stylesheets.push.apply(k.stylesheets,f.a),k.stylesheetTokens={hostAttribute:"my-currentAction-_currentAction-host",shadowAttribute:"my-currentAction-_currentAction"};var j=Object(o.registerTemplate)(w);w.stylesheets=[],f.a&&w.stylesheets.push.apply(w.stylesheets,f.a),w.stylesheetTokens={hostAttribute:"basecomp-datatable-_datatable-host",shadowAttribute:"basecomp-datatable-_datatable"};class O extends o.LightningElement{constructor(...e){super(...e),this.columns2=[],this.finalData=[],this.newRecordList=[],this.recordList=[]}connectedCallback(){this.recordList=[...this.newRecordList],this.processData2()}timepass(e){this.newRecordList=[...e],this.processData2()}processData2(){console.log("inside processdata "),this.newRecordList.length&&(console.log(JSON.stringify(this.newRecordList)),this.newRecordList=this.newRecordList.map(e=>u(e)),console.log(JSON.stringify(this.newRecordList)),this.generateColumnNames(this.newRecordList),this.convertData(JSON.stringify(this.newRecordList)),console.log("after data convert"));let e=0;this.finalData=this.finalData.map(t=>Object.assign({},{array:t},{_id:e++})),this.finalData=[...this.finalData],console.log("after final count is set")}generateColumnNames(e){let t=new Set;e.forEach(e=>{t=new Set([...t,...this.getNonNullKeys(e)])}),this.columns2=Array.from(t),console.log("columns2",this.columns2)}getNonNullKeys(e){return Object.keys(e).filter(t=>!(null==e[t]||t.includes("attributes")))}convertData(e){let t=JSON.parse(e);this.finalData=[],console.log("data is ## ",t),t.forEach(e=>{console.log("doing for ##",e);let t=[];this.columns2.forEach(s=>{t.push(e[s]?{id:s,value:e[s]}:{id:s,value:""})}),this.finalData.push(t)})}}Object(o.registerDecorators)(O,{publicProps:{newRecordList:{config:0}},publicMethods:["timepass"],track:{columns2:1,finalData:1,recordList:1}});var _=Object(o.registerComponent)(O,{tmpl:j});function x(e,t,s,o){const{t:r,gid:a,h:n,b:i,d:l,c:c}=e,{_m0:d,_m1:h,_m2:u,_m3:p}=o;return[n("div",{classMap:{"slds-grid":!0,"slds-gutters":!0},key:13},[n("div",{classMap:{"slds-col":!0,"slds-size_2-of-3":!0},key:8},[n("div",{classMap:{"slds-form-element":!0},key:6},[n("label",{classMap:{"slds-form-element__label":!0},attrs:{for:""+a("textarea-id-01")},key:0},[r("SOQL Query")]),n("span",{classMap:{"slds-form-element__control":!0},key:2},[n("textarea",{classMap:{"slds-textarea":!0},attrs:{id:a("textarea-id-01"),value:t.query,placeholder:"Your Query Here",name:"Query Caller",rows:"4",cols:"50","data-name":"query"},key:1,on:{change:d||(o._m0=i(t.handleChange))}},[])]),n("label",{classMap:{"slds-form-element__label":!0},attrs:{for:""+a("input-id-01")},key:3},[r("Tooling API")]),n("div",{classMap:{"slds-form-element__control":!0},key:5},[n("input",{classMap:{},attrs:{id:a("input-id-01"),type:"checkbox","data-name":"tooling"},props:{value:t.toolingQuery},key:4,on:{change:h||(o._m1=i(t.handleChange))}},[])])]),n("button",{classMap:{"slds-button":!0,"slds-button_brand":!0},key:7,on:{click:u||(o._m2=i(t.fireQuery))}},[r("Query!")])]),n("div",{classMap:{"slds-col":!0,"slds-size_1-of-3":!0},key:12},[t.showKey?n("label",{classMap:{"slds-form-element__label":!0},attrs:{for:""+a("input-id-02")},key:9},[r("Key:")]):null,t.showKey?n("div",{classMap:{"slds-form-element__control":!0},key:11},[n("input",{classMap:{"slds-input":!0},attrs:{id:a("input-id-02"),type:"text",placeholder:"Comma Separated Column names","data-name":"key"},props:{value:t.key},key:10,on:{change:p||(o._m3=i(t.handleChange))}},[])]):null])]),t.records.length?r("ji "):null,t.records.length?l(t.records.length):null,t.records.length?c("basecomp-datatable",_,{props:{newRecordList:t.records},key:14},[]):null]}var L=Object(o.registerTemplate)(x);x.stylesheets=[],f.a&&x.stylesheets.push.apply(x.stylesheets,f.a),x.stylesheetTokens={hostAttribute:"my-queryBox-_queryBox-host",shadowAttribute:"my-queryBox-_queryBox"};class A extends o.LightningElement{constructor(...e){super(...e),this.query="",this.key="",this.toolingQuery=!1,this.records=[],this.showKey=!1}fireQuery(){console.log("this query ",this.query,this.toolingQuery),p(this.query).then(e=>{if(console.log("query responce is ",e),e.done){this.records=[...e.records],this.records=[...this.records],console.log("setting data from querybox");let t=this.template.querySelectorAll("basecomp-datatable")[0];t&&t.timepass(this.records)}})}handleChange(e){switch(console.log(e.currentTarget.dataset.name),e.currentTarget.dataset.name){case"query":this.query=e.target.value;break;case"tooling":this.toolingQuery=!this.toolingQuery;break;case"key":this.key=e.target.value}}fireEventToParent(e){const t=new CustomEvent("queryfire",{detail:{records:e}});this.dispatchEvent(t)}}Object(o.registerDecorators)(A,{publicProps:{showKey:{config:0}},track:{records:1},fields:["query","key","toolingQuery"]});var T=Object(o.registerComponent)(A,{tmpl:L});function D(e,t,s,o){const{b:r,c:a}=e,{_m0:n}=o;return[a("my-query-box",T,{props:{showKey:t.falsy},key:0,on:{queryfire:n||(o._m0=r(t.handleResponse))}},[])]}var C=Object(o.registerTemplate)(D);function M(e,t,s,o){const{t:r,i:a,f:n}=e;return n([r("hi im object details newer!"),a(t.sobjectNames,(function(e){return[]}))])}D.stylesheets=[],f.a&&D.stylesheets.push.apply(D.stylesheets,f.a),D.stylesheetTokens={hostAttribute:"my-currentAction-_queryMaker-host",shadowAttribute:"my-currentAction-_queryMaker"};var q=Object(o.registerTemplate)(M);function S(e,t,s,o){const{t:r}=e;return[r("hi im record detail")]}M.stylesheets=[],f.a&&M.stylesheets.push.apply(M.stylesheets,f.a),M.stylesheetTokens={hostAttribute:"my-currentAction-_objectDetail-host",shadowAttribute:"my-currentAction-_objectDetail"};var E=Object(o.registerTemplate)(S);function N(e,t,s,o){const{c:r}=e;return[r("my-query-box",T,{props:{showKey:t.truthy},key:0},[])]}S.stylesheets=[],f.a&&S.stylesheets.push.apply(S.stylesheets,f.a),S.stylesheetTokens={hostAttribute:"my-currentAction-_recordDetail-host",shadowAttribute:"my-currentAction-_recordDetail"};var R=Object(o.registerTemplate)(N);N.stylesheets=[],f.a&&N.stylesheets.push.apply(N.stylesheets,f.a),N.stylesheetTokens={hostAttribute:"my-currentAction-_compareMetaData-host",shadowAttribute:"my-currentAction-_compareMetaData"};class I extends o.LightningElement{constructor(...e){super(...e),this.pageType="",this.sobjectList=[],this.records=[],this.truthy=!0,this.falsy=!1}get sobjectNames(){return this.sobjectList.map(e=>Object.assign({},e,{value:e.label+"-"+e.name}))}render(){switch(this.pageType){case"queryMaker":return C;case"objectDetail":return q;case"recordDetail":return E;case"compareMetaData":return R;default:return""}}connectedCallback(){this.getSobjectList()}compareData(){}getSobjectList(){this.sobjectList=c("sobjectList");for(let e=0;e<10;e++)console.log(JSON.stringify(this.sobjectList[e]))}handleResponse(e){this.records=[],console.log("inside handle response "+e.detail.records),this.records=[...e.detail.records]}}Object(o.registerDecorators)(I,{publicProps:{pageType:{config:0}},track:{sobjectList:1,records:1},fields:["truthy","falsy"]});var Q=Object(o.registerComponent)(I,{tmpl:v});function P(e,t,s,o){const{d:r,k:a,b:n,h:i,i:l,c:c,gid:d,f:h}=e,{_m0:u}=o;return h([i("div",{classMap:{tab:!0},key:1},l(t.actions,(function(e){return i("button",{className:e.buttClass,attrs:{"data-index":e.id},key:a(0,e.id),on:{click:u||(o._m0=n(t.openAction))}},[r(e.name)])}))),l(t.actions,(function(e){return e.show?i("div",{className:e.classname,attrs:{id:d(e.id)},key:a(4,e.id)},[i("h3",{key:2},[r(e.name)]),c("my-current-action",Q,{props:{pageType:e.api},key:a(3,e.id)},[])]):null}))])}var B=Object(o.registerTemplate)(P);P.stylesheets=[],m&&P.stylesheets.push.apply(P.stylesheets,m),P.stylesheetTokens={hostAttribute:"my-chooseComponent-_chooseComponent-host",shadowAttribute:"my-chooseComponent-_chooseComponent"};class J extends o.LightningElement{constructor(...e){super(...e),this.actions=[{id:0,name:"Query Maker",api:"queryMaker",show:!0,classname:"tabcontent active",buttClass:"tablinks active"},{id:1,name:"Record Detail",api:"recordDetail",show:!1,classname:"tabcontent",buttClass:"tablinks"},{id:2,name:"Object Detail",api:"objectDetail",show:!1,classname:"tabcontent",buttClass:"tablinks"},{id:3,name:"Compare Metadata Detail",api:"compareMetaData",show:!1,classname:"tabcontent",buttClass:"tablinks"}],this.currentAction=""}openAction(e){this.actions.forEach(e=>{e.show=!1,e.classname=e.classname.replace(" active",""),e.buttClass=e.buttClass.replace(" active","")}),this.actions[e.target.dataset.index].show=!0,this.actions[e.target.dataset.index].classname+=" active",this.actions[e.target.dataset.index].buttClass+=" active",this.actions=[...this.actions],this.currentAction=this.actions[e.target.dataset.index].api,console.log(JSON.stringify(this.actions))}ondecrease(){l("sharedValue",c("sharedValue")-1)}}Object(o.registerDecorators)(J,{track:{actions:1},fields:["currentAction"]});var K=Object(o.registerComponent)(J,{tmpl:B});function z(e,t,s,o){const{b:r,c:a}=e,{_m0:n}=o;return[a("my-org-list",b,{key:0,on:{orgidset:n||(o._m0=r(t.handleOrgChange))}},[]),t.showBody?a("my-choose-component",K,{key:1},[]):null]}var V=Object(o.registerTemplate)(z);z.stylesheets=[],z.stylesheetTokens={hostAttribute:"my-app-_app-host",shadowAttribute:"my-app-_app"};class Y extends o.LightningElement{constructor(...e){super(...e),this.showBody=!1}handleOrgChange(){console.log("inside handle org change"),-1!==c("selectIndex")&&(this.getSobjectList(),this.showBody=!0)}getSobjectList(){let e=c("selectIndex"),t=c("idToOrgObj")[e];h(t.domain,"sobjects/",t.value).then(e=>{console.log("response =>",e.sobjects[0].name),l("sobjectList",e.sobjects)})}}Object(o.registerDecorators)(Y,{track:{showBody:1}});var F=Object(o.registerComponent)(Y,{tmpl:V});const G=Object(o.createElement)("my-app",{is:F});document.querySelector("#main").appendChild(G)}});