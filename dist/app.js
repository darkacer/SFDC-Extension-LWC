!function(e){function t(t){for(var r,n,i=t[0],l=t[1],c=t[2],u=0,h=[];u<i.length;u++)n=i[u],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&h.push(a[n][0]),a[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(d&&d(t);h.length;)h.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var e,t=0;t<o.length;t++){for(var s=o[t],r=!0,i=1;i<s.length;i++){var l=s[i];0!==a[l]&&(r=!1)}r&&(o.splice(t--,1),e=n(n.s=s[0]))}return e}var r={},a={1:0},o=[];function n(t){if(r[t])return r[t].exports;var s=r[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=r,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(s,r,function(t){return e[t]}.bind(null,r));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var d=l;o.push([2,0,2]),s()}({2:function(e,t,s){e.exports=s(5)},5:function(e,t,s){"use strict";s.r(t);s(3);var r=s(0);var a=[function(e,t,s){return[".green",t,"{color:#fff;background-color:green}.green",t,",.white",t,"{padding:6px 5px;text-align:left;width:300px;border-radius:5px;border-color:#000;border-style:solid;margin-top:1px}.white",t,"{color:#000;background-color:#e4f2f8}"].join("")}];function o(e,t,s,r){const{d:a,k:o,b:n,h:i,i:l,t:c,f:d}=e,{_m0:u}=r;return d([t.rows.length?l(t.rows,(function(e){return i("div",{className:e.class,attrs:{"data-index":e.index},key:o(0,e.index),on:{click:u||(r._m0=n(t.handleOrgSelect))}},[a(e.domain)])})):[],t.rows.length?null:c("You seem to be not connected to any of the SalesForce Orgs")])}var n=Object(r.registerTemplate)(o);o.stylesheets=[],a&&o.stylesheets.push.apply(o.stylesheets,a),o.stylesheetTokens={hostAttribute:"my-orgList-_orgList-host",shadowAttribute:"my-orgList-_orgList"};let i={sharedValue:0,sobjectList:[],idToOrgObj:{},selectIndex:0};const l=(e,t)=>{console.log("inside set"),i[e]=t},c=e=>(console.log("inside get"),i[e]),d="undefined"==typeof chrome?browser:chrome,u=async(e,t,s)=>{let r="https://"+e+"/services/data/v48.0/"+t,a={async:!0,crossDomain:!0,method:"GET",headers:{authorization:"Bearer "+s}};return(await fetch(r,a)).json()},h=e=>{let t={};for(let s in e)if("object"==typeof e[s]&&null!==e[s]){let r=h(e[s]);for(let e in r)t[s.toLowerCase()+"."+e.toLowerCase()]=r[e]}else t[s.toLowerCase()]=e[s];return t},p=e=>{return e=e.replace(/\s\s+/g," "),u(t?c("idToOrgObj")[t].domain:c("idToOrgObj")[c("selectIndex")].domain,"query/?q="+e,(e=>e?c("idToOrgObj")[e].value:c("idToOrgObj")[c("selectIndex")].value)());var t},y={size:(void 0).selectmax,queue:[],pushVal(e){for(let e=0;e<this.size;e++)this.queue[e]=this.queue[e+1];this.queue[this.size-1]=e}},b=()=>(void 0).selectmax<=1;class m extends r.LightningElement{constructor(...e){super(...e),this.rows=[],this.selectIndex=0,this.selectmax=1}connectedCallback(){let e=[],t={},s=0;var r;r=r=>{r.forEach(r=>{new RegExp(".*salesforce.com").test(r.domain)&&(e.push({index:s,value:r.value,domain:r.domain,class:"white"}),t[s]={value:r.value,domain:r.domain},s++)}),l("idToOrgObj",t),this.rows=[...e],b&&(this.rows.length?(this.rows[0].class="green",l("selectIndex",0),y.pushVal(0)):l("selectIndex",-1),this.communicateOrgId())},d.cookies.getAll({name:"sid"},r)}communicateOrgId(){const e=new CustomEvent("orgidset");this.dispatchEvent(e)}handleOrgSelect(e){let t=e.target.dataset.index;this.selectIndex=t,this.rows.forEach(e=>{e.class="white"}),this.rows[t].class="green",l("selectIndex",this.selectIndex),this.communicateOrgId()}newHandleOrgSelect(e){let t=e.target.dataset.index;y.pushVal(t),this.rows.forEach(e=>{e.class="white"}),y.queue.forEach(e=>{this.rows[e].class="green"}),b&&(l("selectIndex",t),this.communicateOrgId())}setOrg(e){let t=c("idToOrgObj")[e].value,s=c("idToOrgObj")[e].domain;u(s,"sobjects/",t).then(e=>{console.log("response =>",e.sobjects[0].name),l("sobjectList",e.sobjects)})}}Object(r.registerDecorators)(m,{publicProps:{selectmax:{config:0}},track:{rows:1},fields:["selectIndex"]});var g=Object(r.registerComponent)(m,{tmpl:n});var f=[function(e,t,s){return[".tab",t,"{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab",t," button",t,"{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab",t," button:hover",t,"{background-color:#ddd}.tab",t," button.active",t,"{background-color:#ccc}.tabcontent",t,"{padding:6px 12px;border:1px solid #ccc;border-top:none}"].join("")}],k=s(1),v=s.n(k);function w(e,t,s,r){const{}=e;return[]}var j=Object(r.registerTemplate)(w);function O(e,t,s,r){const{t:a,d:o,h:n,k:i,i:l}=e;return[a("size newRecordList"),o(t.newRecordList.length),a(" finalData = "),o(t.finalData.length),t.finalData.length?n("table",{classMap:{"slds-table":!0,"slds-table_cell-buffer":!0,"slds-table_bordered":!0},key:9},[n("thead",{key:4},[n("tr",{classMap:{"slds-line-height_reset":!0},key:i(3,t.col)},l(t.columns2,(function(e){return n("th",{classMap:{},attrs:{scope:"col"},key:i(2,e)},[n("div",{classMap:{"slds-truncate":!0},attrs:{title:e},key:i(1,e)},[n("b",{key:0},[o(e)])])])})))]),n("tbody",{key:8},l(t.finalData,(function(e){return n("tr",{classMap:{"slds-hint-parent":!0},key:i(7,e._id)},l(e.array,(function(e){return n("td",{key:i(6,e.id)},[n("div",{classMap:{"slds-truncate":!0},attrs:{title:e.id},key:5},[o(e.value)])])})))})))]):null]}w.stylesheets=[],v.a&&w.stylesheets.push.apply(w.stylesheets,v.a),w.stylesheetTokens={hostAttribute:"my-currentAction-_currentAction-host",shadowAttribute:"my-currentAction-_currentAction"};var x=Object(r.registerTemplate)(O);O.stylesheets=[],v.a&&O.stylesheets.push.apply(O.stylesheets,v.a),O.stylesheetTokens={hostAttribute:"basecomp-datatable-_datatable-host",shadowAttribute:"basecomp-datatable-_datatable"};class _ extends r.LightningElement{constructor(...e){super(...e),this.columns2=[],this.finalData=[],this.newRecordList=[],this.recordList=[]}connectedCallback(){this.recordList=[...this.newRecordList],this.processData2()}timepass(e){this.newRecordList=[...e],this.processData2()}processData2(){this.newRecordList.length&&(this.newRecordList=this.newRecordList.map(e=>h(e)),this.generateColumnNames(this.newRecordList),this.convertData(JSON.stringify(this.newRecordList)));let e=0;this.finalData=this.finalData.map(t=>Object.assign({},{array:t},{_id:e++})),this.finalData=[...this.finalData]}generateColumnNames(e){let t=new Set;e.forEach(e=>{t=new Set([...t,...this.getNonNullKeys(e)])}),this.columns2=Array.from(t)}getNonNullKeys(e){return Object.keys(e).filter(t=>!(null==e[t]||t.includes("attributes")))}convertData(e){let t=JSON.parse(e);this.finalData=[],t.forEach(e=>{let t=[];this.columns2.forEach(s=>{t.push(e[s]?{id:s,value:e[s]}:{id:s,value:""})}),this.finalData.push(t)})}}Object(r.registerDecorators)(_,{publicProps:{newRecordList:{config:0}},publicMethods:["timepass"],track:{columns2:1,finalData:1,recordList:1}});var L=Object(r.registerComponent)(_,{tmpl:x});function A(e,t,s,r){const{t:a,gid:o,h:n,b:i,d:l,c:c}=e,{_m0:d,_m1:u,_m2:h,_m3:p}=r;return[n("div",{classMap:{"slds-grid":!0,"slds-gutters":!0},key:13},[n("div",{classMap:{"slds-col":!0,"slds-size_2-of-3":!0},key:8},[n("div",{classMap:{"slds-form-element":!0},key:6},[n("label",{classMap:{"slds-form-element__label":!0},attrs:{for:""+o("textarea-id-01")},key:0},[a("SOQL Query")]),n("span",{classMap:{"slds-form-element__control":!0},key:2},[n("textarea",{classMap:{"slds-textarea":!0},attrs:{id:o("textarea-id-01"),value:t.query,placeholder:"Your Query Here",name:"Query Caller",rows:"4",cols:"50","data-name":"query"},key:1,on:{change:d||(r._m0=i(t.handleChange))}},[])]),n("label",{classMap:{"slds-form-element__label":!0},attrs:{for:""+o("input-id-01")},key:3},[a("Tooling API")]),n("div",{classMap:{"slds-form-element__control":!0},key:5},[n("input",{classMap:{},attrs:{id:o("input-id-01"),type:"checkbox","data-name":"tooling"},props:{value:t.toolingQuery},key:4,on:{change:u||(r._m1=i(t.handleChange))}},[])])]),n("button",{classMap:{"slds-button":!0,"slds-button_brand":!0},key:7,on:{click:h||(r._m2=i(t.fireQuery))}},[a("Query!")])]),n("div",{classMap:{"slds-col":!0,"slds-size_1-of-3":!0},key:12},[t.showKey?n("label",{classMap:{"slds-form-element__label":!0},attrs:{for:""+o("input-id-02")},key:9},[a("Key:")]):null,t.showKey?n("div",{classMap:{"slds-form-element__control":!0},key:11},[n("input",{classMap:{"slds-input":!0},attrs:{id:o("input-id-02"),type:"text",placeholder:"Comma Separated Column names","data-name":"key"},props:{value:t.key},key:10,on:{change:p||(r._m3=i(t.handleChange))}},[])]):null])]),t.records.length?a("ji "):null,t.records.length?l(t.records.length):null,t.records.length?c("basecomp-datatable",L,{props:{newRecordList:t.records},key:14},[]):null]}var D=Object(r.registerTemplate)(A);A.stylesheets=[],v.a&&A.stylesheets.push.apply(A.stylesheets,v.a),A.stylesheetTokens={hostAttribute:"my-queryBox-_queryBox-host",shadowAttribute:"my-queryBox-_queryBox"};class C extends r.LightningElement{constructor(...e){super(...e),this.query="",this.key="",this.toolingQuery=!1,this.records=[],this.showKey=!1}fireQuery(){p(this.query).then(e=>{if(console.log("query response is ",e),e.done){this.records=[...e.records],this.records=[...this.records];let t=this.template.querySelectorAll("basecomp-datatable")[0];t&&t.timepass(this.records)}})}handleChange(e){switch(e.currentTarget.dataset.name){case"query":this.query=e.target.value;break;case"tooling":this.toolingQuery=!this.toolingQuery;break;case"key":this.key=e.target.value}}handleClick(){console.log("you clicked! ")}}Object(r.registerDecorators)(C,{publicProps:{showKey:{config:0}},track:{records:1},fields:["query","key","toolingQuery"]});var T=Object(r.registerComponent)(C,{tmpl:D});function M(e,t,s,r){const{b:a,c:o}=e,{_m0:n}=r;return[o("my-query-box",T,{props:{showKey:t.falsy},key:0,on:{queryfire:n||(r._m0=a(t.handleResponse))}},[])]}var q=Object(r.registerTemplate)(M);function S(e,t,s,r){const{t:a,i:o,f:n}=e;return n([a("hi im object details newer!"),o(t.sobjectNames,(function(e){return[]}))])}M.stylesheets=[],v.a&&M.stylesheets.push.apply(M.stylesheets,v.a),M.stylesheetTokens={hostAttribute:"my-currentAction-_queryMaker-host",shadowAttribute:"my-currentAction-_queryMaker"};var E=Object(r.registerTemplate)(S);function I(e,t,s,r){const{t:a}=e;return[a("hi im record detail")]}S.stylesheets=[],v.a&&S.stylesheets.push.apply(S.stylesheets,v.a),S.stylesheetTokens={hostAttribute:"my-currentAction-_objectDetail-host",shadowAttribute:"my-currentAction-_objectDetail"};var R=Object(r.registerTemplate)(I);function N(e,t,s,r){const{c:a}=e;return[a("my-query-box",T,{props:{showKey:t.truthy},key:0},[])]}I.stylesheets=[],v.a&&I.stylesheets.push.apply(I.stylesheets,v.a),I.stylesheetTokens={hostAttribute:"my-currentAction-_recordDetail-host",shadowAttribute:"my-currentAction-_recordDetail"};var Q=Object(r.registerTemplate)(N);N.stylesheets=[],v.a&&N.stylesheets.push.apply(N.stylesheets,v.a),N.stylesheetTokens={hostAttribute:"my-currentAction-_compareMetaData-host",shadowAttribute:"my-currentAction-_compareMetaData"};class P extends r.LightningElement{constructor(...e){super(...e),this.pageType="",this.sobjectList=[],this.records=[],this.truthy=!0,this.falsy=!1}get sobjectNames(){return this.sobjectList.map(e=>Object.assign({},e,{value:e.label+"-"+e.name}))}render(){switch(this.pageType){case"queryMaker":return q;case"objectDetail":return E;case"recordDetail":return R;case"compareMetaData":return Q;default:return""}}connectedCallback(){this.getSobjectList()}compareData(){}getSobjectList(){this.sobjectList=c("sobjectList");for(let e=0;e<10;e++)console.log(JSON.stringify(this.sobjectList[e]))}handleResponse(e){this.records=[],console.log("inside handle response "+e.detail.records),this.records=[...e.detail.records]}}Object(r.registerDecorators)(P,{publicProps:{pageType:{config:0}},track:{sobjectList:1,records:1},fields:["truthy","falsy"]});var B=Object(r.registerComponent)(P,{tmpl:j});function K(e,t,s,r){const{d:a,k:o,b:n,h:i,i:l,c:c,gid:d,f:u}=e,{_m0:h}=r;return u([i("div",{classMap:{tab:!0},key:1},l(t.actions,(function(e){return i("button",{className:e.buttClass,attrs:{"data-index":e.id},key:o(0,e.id),on:{click:h||(r._m0=n(t.openAction))}},[a(e.name)])}))),l(t.actions,(function(e){return e.show?i("div",{className:e.classname,attrs:{id:d(e.id)},key:o(4,e.id)},[i("h3",{key:2},[a(e.name)]),c("my-current-action",B,{props:{pageType:e.api},key:o(3,e.id)},[])]):null}))])}var z=Object(r.registerTemplate)(K);K.stylesheets=[],f&&K.stylesheets.push.apply(K.stylesheets,f),K.stylesheetTokens={hostAttribute:"my-chooseComponent-_chooseComponent-host",shadowAttribute:"my-chooseComponent-_chooseComponent"};class J extends r.LightningElement{constructor(...e){super(...e),this.actions=[{id:0,name:"Query Maker",api:"queryMaker",show:!0,classname:"tabcontent active",buttClass:"tablinks active"},{id:1,name:"Record Detail",api:"recordDetail",show:!1,classname:"tabcontent",buttClass:"tablinks"},{id:2,name:"Object Detail",api:"objectDetail",show:!1,classname:"tabcontent",buttClass:"tablinks"},{id:3,name:"Compare Metadata Detail",api:"compareMetaData",show:!1,classname:"tabcontent",buttClass:"tablinks"}],this.currentAction=""}openAction(e){this.actions.forEach(e=>{e.show=!1,e.classname=e.classname.replace(" active",""),e.buttClass=e.buttClass.replace(" active","")}),this.actions[e.target.dataset.index].show=!0,this.actions[e.target.dataset.index].classname+=" active",this.actions[e.target.dataset.index].buttClass+=" active",this.actions=[...this.actions],this.currentAction=this.actions[e.target.dataset.index].api,console.log(JSON.stringify(this.actions))}ondecrease(){l("sharedValue",c("sharedValue")-1)}}Object(r.registerDecorators)(J,{track:{actions:1},fields:["currentAction"]});var V=Object(r.registerComponent)(J,{tmpl:z});function H(e,t,s,r){const{b:a,c:o}=e,{_m0:n}=r;return[o("my-org-list",g,{props:{selectmax:"1"},key:0,on:{orgidset:n||(r._m0=a(t.handleOrgChange))}},[]),t.showBody?o("my-choose-component",V,{key:1},[]):null]}var Y=Object(r.registerTemplate)(H);H.stylesheets=[],H.stylesheetTokens={hostAttribute:"my-app-_app-host",shadowAttribute:"my-app-_app"};class F extends r.LightningElement{constructor(...e){super(...e),this.showBody=!1}handleOrgChange(){-1!==c("selectIndex")&&(this.getSobjectList(),this.showBody=!0)}getSobjectList(){let e=c("selectIndex"),t=c("idToOrgObj")[e];u(t.domain,"sobjects/",t.value).then(e=>{l("sobjectList",e.sobjects)})}}Object(r.registerDecorators)(F,{track:{showBody:1}});var G=Object(r.registerComponent)(F,{tmpl:Y});const U=Object(r.createElement)("my-app",{is:G});document.querySelector("#main").appendChild(U)}});